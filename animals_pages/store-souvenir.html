<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="./../assets/img/WC_Logo.png" type="image/png" />
    <title>Virtual Graveyard</title>
    <link rel="stylesheet" href="./../assets/style/global.css" />
    <link rel="stylesheet" href="./../assets/style/components/formFooter.css" />
    <link rel="stylesheet" href="./../assets/style/components/header.css" />
    <link rel="stylesheet" href="./../assets/style/components/footer.css" />
    <link rel="stylesheet" href="./../assets/style/components/new_funeral.css" />
    <link rel="stylesheet" href="./../assets/style/components/store.css" />
    <link
      rel="stylesheet"
      href="./../assets/fonts/fontawesome-free-6.7.2-web/css/all.css"
    />
  </head>
  <body class="page">
 <header class="header">
      <a href="../home.html" class="header__logo">
        <img src="./../assets/img/Animals/logo.png" alt="Virtual Grave Logo" />
      </a>
      <div class="header__right">
        <div class="header__menu">
          <div class="navbar__top-row">
            <a href="./new-burial.html" class="navbar__btn">
              <span class="navbar__btn-icon">+</span> NEW FUNERAL
            </a>
            <div class="navbar__text-links">
              <a href="./store-souvenir.html">STORE</a>
              <span class="navbar__divider">|</span>
              <a href="#">WEATHER</a>
              <span class="navbar__divider">|</span>
              <a href="./login.html">SIGN IN</a>
            </div>
          </div>

          <nav class="navbar__center">
            <a href="./home.html" class="navbar__link navbar__link--active"
              >GATE</a
            >
            <span class="navbar__divider">|</span>
            <a  href="./board.html" class="navbar__link">BOARD</a>
            <span class="navbar__divider">|</span>
              <a href="./cemetery.html" class="navbar__link">CEMETERY</a>
          </nav>
        </div>

        <div class="header__icons">
          <div class="header__icons-top">
            <button class="fa-solid fa-magnifying-glass"></button>
            <button class="fa-solid fa-volume-high"></button>
            <button title="Language">EN</button>
          </div>

         <a style="text-decoration: none;" href="./../home.html" class="header__icons-bottom">
            <span class="cemetery-label">Cemetery</span>
            <i class="fa-solid fa-chevron-left"></i>
          </a>
        </div>
      </div>
    </header>

    <main class="page-main main night mt-50">
      <div class="flex wrap">
        <div class="title mr-100">Store: Animals</div>
        <div class="steps flex gap-lg">
          <div class="step active">
            <span class="step__number">1</span>
            <p class="step__des mt-16">Souvenir</p>
          </div>
          <span class="steps_span">_</span>
          <!-- 2 -->
          <div class="step">
            <span class="step__number">2</span>
            <p class="step__des mt-16">Deceased</p>
          </div>
          <span class="steps_span">_</span>
          <!-- 3 -->
          <div class="step">
            <span class="step__number">3</span>
            <p class="step__des mt-16">Memory</p>
          </div>
          <span class="steps_span">_</span>
          <!-- 4 -->
          <div class="step">
            <span class="step__number">4</span>
            <p class="step__des mt-16">Duration</p>
          </div>
        </div>
      </div>
      <h2 class="store__title text-white mt-32">
        Choose a candle, flower or stone
      </h2>
      <div style="margin-bottom: 74px" class="mt-16">
        <section class="store-section">
          <aside class="store-sidebar">
            <button class="store-sidebar__button active">LIGHTS</button>
            <button class="store-sidebar__button">FLOWERS</button>
            <button class="store-sidebar__button">STONES</button>
            <button class="store-sidebar__button">OTHER</button>
          </aside>

          <div class="image-section__gallery" id="storeGallery"></div>
        </section>
        <div class="form-footer w-full mt-32">
          <a href="./new-burial.html" class="form-footer__btn">
            <i class="fa-solid fa-arrow-left"></i> Back
          </a>
          <a
            href="./store-deceased.html"
            class="form-footer__btn form-footer__btn--primary"
            id="nextBtn"
          >
            Next <i class="fa-solid fa-arrow-right"></i>
          </a>
        </div>
      </div>
    </main>

    <footer class="page-footer">
      <div class="footer__links">
        <a href="./../about-us.html">ABOUT US</a>
        <span class="footer__divider">|</span>
        <a href="./../terms-of-service.html">TERMS OF SERVICE</a>
        <span class="footer__divider">|</span>
        <a href="./legal-aspect.html">LEGAL ASPECT</a>
        <span class="footer__divider">|</span>
        <a href="./../price-list.html">PRICE LIST</a>
        <span class="footer__divider">|</span>
         <a href="./../psp.html">PSP</a>
        <span class="footer__divider">|</span>
        <a href="./../history.html">HISTORY</a>
        <span class="footer__divider">|</span>
        <a href="./../affilation.html">AFFILIATION</a>
        <span class="footer__divider">|</span>
        <a href="./../contact.html">CONTACT</a>
        <span class="footer__social">
          <i class="fab fa-facebook-f"></i>
          <i class="fab fa-instagram"></i>
          <i class="fab fa-twitter"></i>
          <i class="fab fa-youtube"></i>
        </span>
      </div>
      <p class="footer__copyright">
        All right reserved Virtual Grave &copy; 2025. Design and implementation
        Cyber.pl
      </p>
    </footer>
    <script>
      const lights = [
        { img: "./../assets/img/lights/1.png" },
        { img: "./../assets/img/lights/2.png" },
        { img: "./../assets/img/lights/3.png" },
        { img: "./../assets/img/lights/4.png" },
        { img: "./../assets/img/lights/5.png" },
        { img: "./../assets/img/lights/6.png" },
        { img: "./../assets/img/lights/7.png" },
        { img: "./../assets/img/lights/8.png" },
        { img: "./../assets/img/lights/9.png" },
        { img: "./../assets/img/lights/10.png" },
      ];

      const flowers = [
        { img: "./../assets/img/flowers/1.png" },
        { img: "./../assets/img/flowers/2.png" },
        { img: "./../assets/img/flowers/3.png" },
        { img: "./../assets/img/flowers/4.png" },
        { img: "./../assets/img/flowers/5.png" },
        { img: "./../assets/img/flowers/6.png" },
        { img: "./../assets/img/flowers/7.png" },
        { img: "./../assets/img/flowers/8.png" },
        { img: "./../assets/img/flowers/9.png" },
        { img: "./../assets/img/flowers/10.png" },
      ];

      const stones = [
        { img: "./../assets/img/stones/1.png" },
        { img: "./../assets/img/stones/2.png" },
        { img: "./../assets/img/stones/3.png" },
        { img: "./../assets/img/stones/4.png" },
        { img: "./../assets/img/stones/5.png" },
        { img: "./../assets/img/stones/6.png" },
        { img: "./../assets/img/stones/7.png" },
        { img: "./../assets/img/stones/8.png" },
        { img: "./../assets/img/stones/9.png" },
        { img: "./../assets/img/stones/10.png" },
      ];

      const others = [
        { img: "./../assets/img/others/1.png" },
        { img: "./../assets/img/others/2.png" },
        { img: "./../assets/img/others/3.png" },
        { img: "./../assets/img/others/4.png" },
        { img: "./../assets/img/others/5.png" },
        { img: "./../assets/img/others/6.png" },
        { img: "./../assets/img/others/7.png" },
        { img: "./../assets/img/others/8.png" },
        { img: "./../assets/img/others/9.png" },
        { img: "./../assets/img/others/10.png" },
      ];

      const gallery = document.getElementById("storeGallery");

      function renderTombstones(items) {
        gallery.innerHTML = ""; // Xóa nội dung cũ trong gallery

        items.forEach((tomb, index) => {
          const block = document.createElement("div");
          block.className = "image-section__block";
          block.dataset.id = `tomb-${index}`;
          block.innerHTML = `
      <div class="image-card">
        <img src="${tomb.img}" alt="Tombstone ${index + 1}" />
      </div>
    `;

          block.addEventListener("click", () => {
            // Xóa 'selected' ở tất cả block
            document
              .querySelectorAll(".image-section__block")
              .forEach((b) => b.classList.remove("selected"));
            // Thêm 'selected' vào block đang click
            block.classList.add("selected");

            // Lưu đường dẫn ảnh vào localStorage
            localStorage.setItem("storeSouvenir", tomb.img);
          });

          gallery.appendChild(block);
        });

        // Kiểm tra tombstone đã chọn trước khi bấm nút Next
        document.getElementById("nextBtn").addEventListener("click", (e) => {
          const selected = localStorage.getItem("storeSouvenir");
          if (!selected) {
            e.preventDefault();
            alert("Please select a tombstone before proceeding.");
          }
        });
      }

      // Mặc định hiển thị ảnh của Lights
      renderTombstones(lights);

      // Lắng nghe sự kiện click vào các nút của sidebar để thay đổi ảnh
      document.querySelectorAll(".store-sidebar__button").forEach((button) => {
        button.addEventListener("click", (e) => {
          // Cập nhật active class cho các button
          document
            .querySelectorAll(".store-sidebar__button")
            .forEach((btn) => btn.classList.remove("active"));
          e.target.classList.add("active");

          // Thay đổi danh sách ảnh dựa vào lựa chọn
          if (e.target.textContent === "LIGHTS") {
            renderTombstones(lights);
          } else if (e.target.textContent === "FLOWERS") {
            renderTombstones(flowers);
          } else if (e.target.textContent === "STONES") {
            renderTombstones(stones);
          } else if (e.target.textContent === "OTHER") {
            renderTombstones(others);
          }
        });
      });
    </script>
    <script src="./../assets/scripts/footer.js"></script>
  </body>
</html>
